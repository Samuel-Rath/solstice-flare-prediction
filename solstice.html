import streamlit as st
from datetime import date

st.title("Flare Airdrop Prediction Simulator")

# Input fields
flares_daily = st.number_input("Flares generated daily", min_value=0.0, step=0.1)
total_tvl = st.number_input("Total TVL", min_value=0.0, step=0.1)
total_flare_supply = st.number_input("Total Flare Supply", min_value=0.0, step=0.1)
tge_date = st.date_input("TGE Date")
percent_airdropped = st.number_input("% of supply airdropped", min_value=0.0, max_value=100.0, step=0.1)

if st.button("Submit"):
    current_date = date.today()
    days_to_tge = (tge_date - current_date).days
    
    if days_to_tge < 0:
        st.error("TGE date must be in the future.")
    elif days_to_tge == 0:
        st.warning("TGE is today; no flares will be earned.")
        total_flares_earned = 0
    else:
        total_flares_earned = flares_daily * days_to_tge
    
    if total_flare_supply == 0:
        st.error("Total Flare Supply cannot be zero.")
    else:
        price_per_flare = (total_tvl * (percent_airdropped / 100)) / total_flare_supply
        approx_value = price_per_flare * total_flares_earned
        
        st.subheader("Results")
        st.write(f"Days to TGE: {days_to_tge}")
        st.write(f"Total Flares Earned: {total_flares_earned:.2f}")
        st.write(f"Price per Flare: ${price_per_flare:.4f}")
        st.write(f"Approximate Airdrop Value: ${approx_value:.2f}")